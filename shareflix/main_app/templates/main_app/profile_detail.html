{% extends 'base.html' %} 
{% block content %}
<h1>{{ profile.user }}</h1>
<form action="{% url 'settings' %}" method="get">
  <input type="submit" class="btn" value="Settings" />
</form>
<p>
  <strong>Name: </strong> {{ profile.user.first_name }} 
  {{ profile.user.last_name }}
</p>
<p><strong>Email: </strong> {{ profile.user.email }}</p>
<p><strong>Fave Flick: </strong> {{ profile.fave_movie }}</p>
<a href="{% url 'follow' profile.id %}" class="btn btn-rounded">Follow</a>


<!-- TO SEE LIST OF THEIR MOVIES -->
<div class="col s6">
  <table class="striped">
    <h2>My WatchList</h2>
    <thead>
      <tr>
        <th>Title</th>
        <th>Where to Watch</th>
      </tr>
    </thead>
    <tbody>
      {% for watchable in profile.movie_set.all %} 
      {% if not watchable.watched %}
      <tr>
        <td>
          <a href="{% url 'watchable_detail' watchable.id %}"
            >{{watchable.title}}</a
          >
        </td>
        <td>{{watchable.where}}</td>
      </tr>
      {% endif %} 
      {% endfor %}
    </tbody>
  </table>
  <table class="striped">
    <h2>My Recommendations</h2>
    <thead>
      <tr>
        <th>Title</th>
        <th>Do I recommend this?</th>
      </tr>
    </thead>
    <tbody>
      {% for watchable in profile.movie_set.all %} {% if watchable.watched %}
      <tr>
        <td>
          <a href="{% url 'watchable_detail' watchable.id %}"
            >{{watchable.title}}</a
          >
        </td>
        <td>{{watchable.where}}</td>
      </tr>
      {% endif %} {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
